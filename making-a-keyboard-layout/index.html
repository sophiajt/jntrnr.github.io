<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />

    <style>
      :root {
        --accent-color: #05a081;
        --accent-color-light: #82d0c0;
      }
    </style>

    <meta name="theme-color" content="#05a081" />

    
      <link rel="icon" href="https:&#x2F;&#x2F;www.jntrnr.com&#x2F;processed_images&#x2F;444e76059742f47b00.png" />
      <link rel="apple-touch-icon" sizes="48x48" href="https:&#x2F;&#x2F;www.jntrnr.com&#x2F;processed_images&#x2F;444e76059742f47b00.png" />
      <link rel="apple-touch-icon" sizes="72x72" href="https:&#x2F;&#x2F;www.jntrnr.com&#x2F;processed_images&#x2F;6dfeb9b0bd094d5a00.png" />
      <link rel="apple-touch-icon" sizes="96x96" href="https:&#x2F;&#x2F;www.jntrnr.com&#x2F;processed_images&#x2F;3959b3b31b7ae92700.png" />
      <link rel="apple-touch-icon" sizes="144x144" href="https:&#x2F;&#x2F;www.jntrnr.com&#x2F;processed_images&#x2F;e644b27af091684500.png" />
      <link rel="apple-touch-icon" sizes="192x192" href="https:&#x2F;&#x2F;www.jntrnr.com&#x2F;processed_images&#x2F;3344ee474c2d849c00.png" />
      <link rel="apple-touch-icon" sizes="256x256" href="https:&#x2F;&#x2F;www.jntrnr.com&#x2F;processed_images&#x2F;d92103ca49c6bd5e00.png" />
      <link rel="apple-touch-icon" sizes="384x384" href="https:&#x2F;&#x2F;www.jntrnr.com&#x2F;processed_images&#x2F;b8dd2689e662c9cd00.png" />
      <link rel="apple-touch-icon" sizes="512x512" href="https:&#x2F;&#x2F;www.jntrnr.com&#x2F;processed_images&#x2F;c0d9496000275d3400.png" />
    

    

    <meta property="og:type" content="website">

    <meta name="twitter:card" content="summary">

    

    

    
      
        <meta name="description" content="" />
        <meta name="twitter:description" content="">
      
    

    
      <meta name="twitter:title" content="Making a keyboard layout">
    

    
      <link rel="prerender" href="&#x2F;" rel="me" />
    
      <link rel="prerender" href="&#x2F;tags" rel="me" />
    
      <link rel="prerender" href="https:&#x2F;&#x2F;www.twitter.com&#x2F;jntrnr" rel="me" />
    
      <link rel="prerender" href="https:&#x2F;&#x2F;fosstodon.org&#x2F;@jntrnr" rel="me" />
    
      <link rel="prerender" href="&#x2F;atom.xml" rel="me" />
    
      <link rel="prerender" href="&#x2F;poems&#x2F;waitingtogrow" rel="me" />
    

    <link rel="prefetch" href="https:&#x2F;&#x2F;www.jntrnr.com&#x2F;processed_images&#x2F;53af5229a2f8852200.png" />

    <title>
      
        
          Making a keyboard layout
        
      
    </title>

    
    
      <link rel="stylesheet" href="https://www.jntrnr.com/main.css">
    
    
  
    <link rel="prerender" href="https:&#x2F;&#x2F;www.jntrnr.com&#x2F;youtube-addiction-one-month-sober&#x2F;">
  

  
    <link rel="prerender" href="https:&#x2F;&#x2F;www.jntrnr.com&#x2F;why-i-left-rust&#x2F;">
  

  
    <link rel="prerender"  href="https:&#x2F;&#x2F;www.jntrnr.com&#x2F;tags&#x2F;typing&#x2F;">
  

  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "NewsArticle",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://google.com/article"
      },
      "headline": "Making a keyboard layout",
      "image": [],
      "datePublished": "2023-02-22T00:00:00+00:00",
      "dateModified": "2023-02-22T00:00:00+00:00",
      "author": {
        "@type": "Person",
        "name": "Sophia June Turner"
      },
       "publisher": {
        "@type": "Organization",
        "name": "Sophia June Turner",
        "logo": {
          "@type": "ImageObject",
          "url": "https://www.jntrnr.com/icon.png"
        }
        
      }
      
    }
  </script>

  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        

        
        {
          
          "@type": "ListItem",
          "position": 1,
          "name": "",
          "item": "https://www.jntrnr.com/"
        },
        
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Making a keyboard layout",
          "item": "https://www.jntrnr.com/making-a-keyboard-layout/"
        }
      ]
    }
  </script>

  </head>
  <body>
    
      <header>
        <a class="profile-icon" href="/">
          <img src="https:&#x2F;&#x2F;www.jntrnr.com&#x2F;processed_images&#x2F;53af5229a2f8852200.png" alt="profile picture">
        </a>
        <nav>
          
            <a rel="me" href="&#x2F;">Home</a>
          
            <a rel="me" href="&#x2F;tags">Tags</a>
          
            <a rel="me" href="https:&#x2F;&#x2F;www.twitter.com&#x2F;jntrnr">Twitter</a>
          
            <a rel="me" href="https:&#x2F;&#x2F;fosstodon.org&#x2F;@jntrnr">Mastodon</a>
          
            <a rel="me" href="&#x2F;atom.xml">Atom&#x2F;RSS</a>
          
            <a rel="me" href="&#x2F;poems&#x2F;waitingtogrow">Poems</a>
          
        </nav>
      </header>
    
    <main>
    
  <div class="post-title">
    <h1>Making a keyboard layout</h1>
    <small>
      February 22, 2023
      
        - 
        <span class="tags">
          
            <a href="https:&#x2F;&#x2F;www.jntrnr.com&#x2F;tags&#x2F;typing&#x2F;">typing</a>
          
        </span>
      
    </small>
  </div>

  <div>
    <p>It all started innocently enough. I had gotten interested in more efficient typing at first by learning about different keyboards and what they offered. I was intrigued. Except there was one small problem: fancy keyboards are expensive, especially to import into New Zealand.</p>
<p>So, I took a different route: alternate <a href="https://paulguerin.medium.com/the-search-for-the-worlds-best-keyboard-layout-98d61b33b8e1">keyboard layouts</a>.</p>
<p>These promised to help you type better than the standard qwerty layout. I dove in. I tried colemak, workman, and some of their variants. It was clear with practice you could type better with less hand strain. A normal person at this point might have picked something and stuck with it. Well okay, most people wouldn't have even got that far. But I digress.</p>
<p>I on the other hand thought &quot;you know what would be cool? Making a layout for myself!&quot;</p>
<p>And down the rabbit hole I went.</p>
<h2 id="why-do-a-new-layout">Why do a new layout?</h2>
<p>It started from a simple idea that came from playing guitar and later made its way to professional Tetris competition: <a href="https://kotaku.com/nes-tetris-players-call-it-rolling-and-theyre-setting-1846767518">rolling</a>. The motion you might have used as a kid when you were bored, drumming your fingers on the table. As the fingers fall one after another, you can create high speeds.</p>
<p>The trick seemed simple enough. Lay out the keyboard to try to get the maximum benefit from rolling without making the typing that doesn't roll harder than before.</p>
<p>While it's still too early to declare victory, I'll tell you that the text you are reading now was written using the layout I describe below.</p>
<h2 id="creating-the-layout">Creating the layout</h2>
<p>I created a few programs with a relatively simple goal. I want to be able to generate layouts that matched a set of constraints. Once I had one, I'd try it out, change the parameters. Rinse and repeat.</p>
<p>In the end, I had gone through hundreds of layouts.</p>
<p>I learned a few things.</p>
<h3 id="you-need-to-find-a-corpus-of-text-close-to-what-you-type">You need to find a corpus of text close to what you type</h3>
<p>Look through the data to make sure it will fit your writing style and that common words are covered.</p>
<h3 id="be-careful-about-using-text-with-high-counts-of-an-uncommon-word">Be careful about using text with high counts of an uncommon word</h3>
<p>When I first started solving for a good keyboard, I used the source for Nushell, a codebase I've spent a lot of time in. This was great in theory, but in practice the algorithm tried to fit words like &quot;value&quot; and &quot;span&quot;, pushing other words out of the way.</p>
<h3 id="your-hands-might-help-you-find-what-works-for-you">Your hands might help you find what works for you</h3>
<p>I would try out an idea and often revise after seeing how that idea worked in practice. I tried many shapes to roll and over time simplified it down to a set that felt I could hit with high enough accuracy.</p>
<h3 id="it-is-easy-to-over-fit-your-data">It is easy to over-fit your data</h3>
<p>Scoring the different moves ended up being a bit of an art. Setting scores high enough, but not too high, took many iterations of trial and error.</p>
<h2 id="show-us-the-layout-already">Show us the layout already</h2>
<p><img src="https://www.jntrnr.com/images/keyboard_layout.png" alt="Keyboard with pmfcqxluoy inasbkreh ;vgdzjw,." /></p>
<p><em>Inas keyboard layout</em></p>
<p>Here's the Inas layout (named by the home keys on the left hand).</p>
<p>Let's talk about how I scored typing movements, and then talk about some ways we might improve on it.</p>
<h2 id="scoring">Scoring</h2>
<p>I broke my corpus of text up into words, then found 1-, 2-, and 3-letter runs of letters. These runs would then make up the &quot;roll&quot; that would get higher points.</p>
<p>I used the following scoring:</p>
<ul>
<li>Typing on the home row is preferred</li>
<li>Center row keys are to be avoided (I learned from guitar that the lift of the finger can be easier on it than lateral stretches)</li>
<li>Runs of two should be together where possible</li>
<li>Jumps between the top row and bottom row should be avoided</li>
<li>Runs of three can fall in a row or can be two in a row and then fall by one row (in the code I call this a j-roll)</li>
<li>Try to use the pinkies less (unless necessary for the above)</li>
</ul>
<p>If you look at the keyboard above you can see quite a few patterns that fall out from that:</p>
<ul>
<li>Common three letter runs like &quot;ing&quot;, &quot;you&quot;, &quot;the&quot;, and &quot;can&quot; are easier to type.</li>
<li>Longer words that build on runs are also easier: &quot;there&quot;, &quot;this&quot;, &quot;think&quot;, &quot;thing&quot;, &quot;your&quot;, &quot;than&quot;, &quot;care&quot;, &quot;other&quot;, &quot;another&quot;, and so on. Mixing and matching runs while you type ends up being a fun puzzle.</li>
<li>Surprisingly, some common words like &quot;and&quot; don't run. I think this comes from how important &quot;ing&quot; is in English. This takes precedence over the &quot;n&quot; key for rolls.</li>
</ul>
<h2 id="but-is-it-good">But is it good?</h2>
<p>I've been working with this keyboard layout from the perspective of potential speed. It's still too soon to know how fast you can get with it.</p>
<p>There are also other considerations. Namely, does this help your hands? Layouts like qwerty over time can hurt your hands. Does Inas help at all with it? The jury is still out. One good iteration on what I have so far would be to score movements that are more ergonomic higher. Inas has some of that on a basic level by preferring smaller movements and preferring the home row. Are there more ergonomic patters to include? Undoubtedly.</p>
<p>If you give it a try, let me know how it goes for you.</p>
<h2 id="build-your-own">Build your own</h2>
<p>If you want to improve what I have or build your own keyboard you can <a href="https://github.com/jntrnr/create_keyboard_layouts">try it out for yourself</a></p>

  </div>

  <hr class="footer-rule" />

  
    <div class="footer-about">
      <p>A simple dev-blog theme created by Bennett. You can follow him on <a href="https://github.com/bennetthardwick">Github</a> (if you like).</p>

    </div>
  

  <div class="related-container">

    
      <div class="link">
        Previous <br />
        <a href="https:&#x2F;&#x2F;www.jntrnr.com&#x2F;youtube-addiction-one-month-sober&#x2F;">YouTube addiction, one month sober</a>
      </div>
    

    
      <div class="link">
        Next <br />
        <a href="https:&#x2F;&#x2F;www.jntrnr.com&#x2F;why-i-left-rust&#x2F;">Why I left Rust</a>
      </div>
    

  </div>


    </main>
  </body>
</html>
